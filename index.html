<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Simple Simulator</title>
    <link rel="stylesheet" href="bootstrap.min.css">
</head>
<body>
	<div class="container">
  		<div class="row">
        <div class="col-md-12" style="background-color:rgb(230,230,230)">
          Let's Make a Simulator!
        </div>
      </div>
      <div class="row">
  			<div class="col-md-12" style="background-color:rgb(240,240,240)">
          <canvas width=1000 height=800 id="canvas">
          </canvas>
  			</div>

  		</div>
	</div>

	<script type="text/javascript" src="underscore-min.js"></script>
	<script type="text/javascript" src="jquery-2.1.4.min.js"></script>
	<script type="text/javascript" src="bootstrap.min.js"></script>
  <script type="text/javascript" src="ballbounce.js"></script>
  <script type="text/javascript" src="log_final.js"></script>
  <script>

    $(window).load(function() {
      var canvas = $("#canvas")[0];

      var image = new Image();
      image.src = 'Planet_logo_RGB.png';
      $(image).load(function() {
        console.log("image loaded");
        var state = initializeState(finalPositions, image);
        var dt = .035;

        var startTime = Date.now();
        var fps = 0;
        var avg = 0;

        function repaint() {
          // fps++;
          draw(canvas, state);
          update(state, dt);
          // if (Date.now() > startTime + 1000) {
            // console.log(fps);
            // fps = 0;
            // startTime = Date.now();
          // }
          requestAnimationFrame(repaint);
        }

        requestAnimationFrame(repaint);
      })


      // $(window).keydown(function(event) {
      //   _.each(state.balls, function(ball) {
      //     if (ball.fixed != true) {
      //       console.log("[" + ball.id + ", " + ball.x + ", " + ball.y + "],");
      //     }
      //   });
      // })

    });


  </script>
</body>
</html>
